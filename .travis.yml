language: node_js
node_js:
  - '10.17'
install:
  - npm install
script:
  - npm run test:ci
  - npm run build
  - npm run e2e:ci
  - 'if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then sh scripts/verifyChangelog.sh; fi'
deploy:
  # deploy shell-dsk docs on github page
  - provider: pages
    skip_cleanup: true
    local_dir: docs
    github_token: $GITHUB_TOKEN # Set in travis-ci.org dashboard
    on:
      branch: master
